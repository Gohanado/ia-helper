// Translations for IA Helper
export const TRANSLATIONS = {
  fr: {
    // General
    appName: 'IA Helper',
    save: 'Sauvegarder',
    cancel: 'Annuler',
    close: 'Fermer',
    copy: 'Copier',
    reset: 'Reinitialiser',
    edit: 'Modifier',
    delete: 'Supprimer',
    add: 'Ajouter',
    options: 'Options',

    // Connection
    connection: 'Connexion',
    serverConfig: 'Configuration du serveur',
    serverUrl: 'URL du serveur Ollama',
    model: 'Modele',
    testConnection: 'Tester',
    refreshModels: 'Actualiser',
    selectModel: 'Selectionnez un modele',
    connectionSuccess: 'Connexion reussie !',
    connectionError: 'Impossible de se connecter',
    enableStreaming: 'Activer le streaming (reponse en temps reel)',
    auto: 'Automatique (selon le texte)',
    responseLanguageHint: 'Cette option ne s\'applique pas aux traductions specifiques.',

    // Presets
    presets: 'Presets',
    presetsDesc: 'Activez des ensembles d\'actions pour le menu contextuel. Chaque preset ajoute un sous-menu dans IA Helper.',
    allPresets: 'Tous les presets',
    integratedPresets: 'Presets integres',
    myCustomPresets: 'Mes presets personnalises',
    createPreset: 'Creer un preset',
    integrated: 'Integre',
    presetActions: 'Actions du preset',
    clickPresetToSee: 'Cliquez sur un preset pour voir ses actions.',
    noCustomPresets: 'Aucun preset personnalise. Cliquez sur "Creer un preset" pour commencer.',
    viewPrompt: 'Voir prompt',
    editPrompt: 'Modifier prompt',
    actions: 'actions',
    custom: 'Perso',
    presetActivated: 'Preset active !',
    presetDeactivated: 'Preset desactive',
    presetCreated: 'Preset cree !',
    presetModified: 'Preset modifie !',
    presetDeleted: 'Preset supprime',

    // Actions
    inputActions: 'Actions d\'edition',
    selectionActions: 'Actions de selection',
    proActions: 'Actions IA Helper Pro',
    customActions: 'Actions personnalisees',
    quickActions: 'Actions rapides',

    // Prompts
    prompts: 'Prompts',
    customizePrompts: 'Personnalisation des prompts',
    promptsDesc: 'Modifiez les instructions envoyees a l\'IA pour chaque action.',
    systemPrompt: 'Prompt systeme',
    promptSaved: 'Prompt sauvegarde !',
    promptReset: 'Prompt reinitialise',

    // Results
    result: 'Resultat',
    originalText: 'Texte original',
    generating: 'Generation en cours...',
    refine: 'Affiner le resultat',
    regenerate: 'Regenerer',
    shorter: 'Plus court',
    longer: 'Plus long',
    formal: 'Plus formel',
    casual: 'Plus decontracte',
    addInstructions: 'Ajouter des instructions',
    send: 'Envoyer',

    // Copy options
    copyMarkdown: 'Copier en Markdown',
    copyText: 'Copier en texte brut',
    copyHtml: 'Copier en HTML',
    copied: 'Copie !',

    // Language settings
    language: 'Langue',
    interfaceLanguage: 'Langue de l\'interface',
    responseLanguage: 'Langue de reponse de l\'IA (generale)',

    // About
    about: 'A propos',
    aboutTitle: 'A propos de IA Helper',
    version: 'Version',
    description: 'Assistant IA intelligent pour Chrome connecte a Ollama.',
    aboutText: 'IA Helper vous permet d\'utiliser des modeles d\'IA locaux pour corriger, traduire, reformuler et analyser du texte directement dans votre navigateur.',
    documentation: 'Documentation',
    reportBug: 'Signaler un bug',
    requestFeature: 'Demander une feature',
    resetOptions: 'Reinitialiser les options',

    // Modal
    customize: 'Personnaliser',
    customizePreset: 'Personnaliser le preset',
    newPreset: 'Creer un preset',
    editPreset: 'Modifier le preset',
    presetName: 'Nom du preset',
    presetNameHint: 'Ce nom apparaitra dans le menu contextuel',
    presetDescription: 'Description',
    presetActionsLabel: 'Actions du preset',
    addAction: '+ Ajouter action',
    noActions: 'Aucune action. Cliquez sur "+ Ajouter action".',
    actionName: 'Nom de l\'action',
    actionPrompt: 'Prompt systeme...',
    createThePreset: 'Creer le preset',
    savePreset: 'Sauvegarder',
    enterPresetName: 'Veuillez entrer un nom pour le preset',
    addAtLeastOneAction: 'Ajoutez au moins une action',
    allActionsMustHaveNameAndPrompt: 'Toutes les actions doivent avoir un nom et un prompt',

    // Notifications
    settingsSaved: 'Parametres sauvegardes !',
    noContent: 'Aucun contenu a traiter',
    noModel: 'Veuillez configurer un modele dans les options',
    featureInDev: 'Fonctionnalite en cours de developpement',
    languageChanged: 'Langue modifiee !'
  },
  
  en: {
    appName: 'IA Helper',
    save: 'Save',
    cancel: 'Cancel',
    close: 'Close',
    copy: 'Copy',
    reset: 'Reset',
    edit: 'Edit',
    delete: 'Delete',
    add: 'Add',
    options: 'Options',
    connection: 'Connection',
    serverConfig: 'Server configuration',
    serverUrl: 'Ollama server URL',
    model: 'Model',
    testConnection: 'Test',
    refreshModels: 'Refresh',
    selectModel: 'Select a model',
    connectionSuccess: 'Connection successful!',
    connectionError: 'Unable to connect',
    enableStreaming: 'Enable streaming (real-time response)',
    auto: 'Automatic (based on text)',
    responseLanguageHint: 'This option does not apply to specific translations.',
    presets: 'Presets',
    presetsDesc: 'Enable action sets for the context menu. Each preset adds a submenu to IA Helper.',
    allPresets: 'All presets',
    integratedPresets: 'Built-in presets',
    myCustomPresets: 'My custom presets',
    createPreset: 'Create preset',
    integrated: 'Built-in',
    presetActions: 'Preset actions',
    clickPresetToSee: 'Click on a preset to see its actions.',
    noCustomPresets: 'No custom presets. Click "Create preset" to start.',
    viewPrompt: 'View prompt',
    editPrompt: 'Edit prompt',
    actions: 'actions',
    custom: 'Custom',
    presetActivated: 'Preset activated!',
    presetDeactivated: 'Preset deactivated',
    presetCreated: 'Preset created!',
    presetModified: 'Preset modified!',
    presetDeleted: 'Preset deleted',
    inputActions: 'Editing actions',
    selectionActions: 'Selection actions',
    proActions: 'IA Helper Pro actions',
    customActions: 'Custom actions',
    quickActions: 'Quick actions',
    prompts: 'Prompts',
    customizePrompts: 'Customize prompts',
    promptsDesc: 'Modify the instructions sent to the AI for each action.',
    systemPrompt: 'System prompt',
    promptSaved: 'Prompt saved!',
    promptReset: 'Prompt reset',
    result: 'Result',
    originalText: 'Original text',
    generating: 'Generating...',
    refine: 'Refine result',
    regenerate: 'Regenerate',
    shorter: 'Shorter',
    longer: 'Longer',
    formal: 'More formal',
    casual: 'More casual',
    addInstructions: 'Add instructions',
    send: 'Send',
    copyMarkdown: 'Copy as Markdown',
    copyText: 'Copy as plain text',
    copyHtml: 'Copy as HTML',
    copied: 'Copied!',
    language: 'Language',
    interfaceLanguage: 'Interface language',
    responseLanguage: 'AI response language (general)',
    about: 'About',
    aboutTitle: 'About IA Helper',
    version: 'Version',
    description: 'Intelligent AI assistant for Chrome connected to Ollama.',
    aboutText: 'IA Helper allows you to use local AI models to correct, translate, rephrase and analyze text directly in your browser.',
    documentation: 'Documentation',
    reportBug: 'Report a bug',
    requestFeature: 'Request a feature',
    resetOptions: 'Reset options',
    customize: 'Customize',
    customizePreset: 'Customize preset',
    newPreset: 'Create a preset',
    editPreset: 'Edit preset',
    presetName: 'Preset name',
    presetNameHint: 'This name will appear in the context menu',
    presetDescription: 'Description',
    presetActionsLabel: 'Preset actions',
    addAction: '+ Add action',
    noActions: 'No actions. Click "+ Add action".',
    actionName: 'Action name',
    actionPrompt: 'System prompt...',
    createThePreset: 'Create preset',
    savePreset: 'Save',
    enterPresetName: 'Please enter a name for the preset',
    addAtLeastOneAction: 'Add at least one action',
    allActionsMustHaveNameAndPrompt: 'All actions must have a name and prompt',
    settingsSaved: 'Settings saved!',
    noContent: 'No content to process',
    noModel: 'Please configure a model in options',
    featureInDev: 'Feature in development',
    languageChanged: 'Language changed!'
  }
};

// Espagnol
TRANSLATIONS.es = {
  ...TRANSLATIONS.en,
  save: 'Guardar', cancel: 'Cancelar', close: 'Cerrar', copy: 'Copiar',
  reset: 'Restablecer', edit: 'Editar', delete: 'Eliminar', add: 'Agregar',
  options: 'Opciones', connection: 'Conexion', serverConfig: 'Configuracion del servidor',
  serverUrl: 'URL del servidor Ollama', model: 'Modelo', testConnection: 'Probar',
  refreshModels: 'Actualizar', selectModel: 'Seleccione un modelo',
  connectionSuccess: 'Conexion exitosa!', connectionError: 'No se puede conectar',
  enableStreaming: 'Activar streaming (respuesta en tiempo real)',
  auto: 'Automatico (segun el texto)', responseLanguageHint: 'Esta opcion no se aplica a traducciones especificas.',
  presets: 'Presets', presetsDesc: 'Active conjuntos de acciones para el menu contextual.',
  integratedPresets: 'Presets integrados', myCustomPresets: 'Mis presets personalizados',
  createPreset: 'Crear preset', presetActions: 'Acciones del preset',
  clickPresetToSee: 'Haga clic en un preset para ver sus acciones.',
  noCustomPresets: 'Sin presets personalizados. Haga clic en "Crear preset" para comenzar.',
  viewPrompt: 'Ver prompt', editPrompt: 'Editar prompt', actions: 'acciones', custom: 'Perso',
  presetActivated: 'Preset activado!', presetDeactivated: 'Preset desactivado',
  presetCreated: 'Preset creado!', presetModified: 'Preset modificado!', presetDeleted: 'Preset eliminado',
  about: 'Acerca de', aboutTitle: 'Acerca de IA Helper', version: 'Version',
  description: 'Asistente IA inteligente para Chrome conectado a Ollama.',
  aboutText: 'IA Helper le permite usar modelos de IA locales para corregir, traducir, reformular y analizar texto.',
  documentation: 'Documentacion', reportBug: 'Reportar un error', requestFeature: 'Solicitar funcion',
  resetOptions: 'Restablecer opciones', customize: 'Personalizar', customizePreset: 'Personalizar preset',
  newPreset: 'Crear un preset', editPreset: 'Editar preset', presetName: 'Nombre del preset',
  presetNameHint: 'Este nombre aparecera en el menu contextual', presetDescription: 'Descripcion',
  addAction: '+ Agregar accion', noActions: 'Sin acciones. Haga clic en "+ Agregar accion".',
  actionName: 'Nombre de la accion', actionPrompt: 'Prompt del sistema...', createThePreset: 'Crear preset',
  enterPresetName: 'Ingrese un nombre para el preset', addAtLeastOneAction: 'Agregue al menos una accion',
  allActionsMustHaveNameAndPrompt: 'Todas las acciones deben tener nombre y prompt',
  settingsSaved: 'Configuracion guardada!', languageChanged: 'Idioma cambiado!'
};

// Italien
TRANSLATIONS.it = {
  ...TRANSLATIONS.en,
  save: 'Salva', cancel: 'Annulla', close: 'Chiudi', copy: 'Copia',
  reset: 'Reimposta', edit: 'Modifica', delete: 'Elimina', add: 'Aggiungi',
  options: 'Opzioni', connection: 'Connessione', serverConfig: 'Configurazione del server',
  serverUrl: 'URL del server Ollama', model: 'Modello', testConnection: 'Testa',
  refreshModels: 'Aggiorna', selectModel: 'Seleziona un modello',
  connectionSuccess: 'Connessione riuscita!', connectionError: 'Impossibile connettersi',
  enableStreaming: 'Attiva streaming (risposta in tempo reale)',
  auto: 'Automatico (in base al testo)', responseLanguageHint: 'Questa opzione non si applica alle traduzioni specifiche.',
  presets: 'Presets', presetsDesc: 'Attiva set di azioni per il menu contestuale.',
  integratedPresets: 'Presets integrati', myCustomPresets: 'I miei presets personalizzati',
  createPreset: 'Crea preset', presetActions: 'Azioni del preset',
  clickPresetToSee: 'Clicca su un preset per vedere le sue azioni.',
  noCustomPresets: 'Nessun preset personalizzato. Clicca "Crea preset" per iniziare.',
  viewPrompt: 'Vedi prompt', editPrompt: 'Modifica prompt', actions: 'azioni', custom: 'Perso',
  presetActivated: 'Preset attivato!', presetDeactivated: 'Preset disattivato',
  presetCreated: 'Preset creato!', presetModified: 'Preset modificato!', presetDeleted: 'Preset eliminato',
  about: 'Informazioni', aboutTitle: 'Informazioni su IA Helper', version: 'Versione',
  description: 'Assistente IA intelligente per Chrome connesso a Ollama.',
  aboutText: 'IA Helper ti permette di usare modelli IA locali per correggere, tradurre, riformulare e analizzare testo.',
  documentation: 'Documentazione', reportBug: 'Segnala un bug', requestFeature: 'Richiedi funzionalita',
  resetOptions: 'Reimposta opzioni', customize: 'Personalizza', customizePreset: 'Personalizza preset',
  newPreset: 'Crea un preset', editPreset: 'Modifica preset', presetName: 'Nome del preset',
  presetNameHint: 'Questo nome apparira nel menu contestuale', presetDescription: 'Descrizione',
  addAction: '+ Aggiungi azione', noActions: 'Nessuna azione. Clicca "+ Aggiungi azione".',
  actionName: 'Nome dell\'azione', actionPrompt: 'Prompt di sistema...', createThePreset: 'Crea preset',
  enterPresetName: 'Inserisci un nome per il preset', addAtLeastOneAction: 'Aggiungi almeno un\'azione',
  allActionsMustHaveNameAndPrompt: 'Tutte le azioni devono avere nome e prompt',
  settingsSaved: 'Impostazioni salvate!', languageChanged: 'Lingua cambiata!'
};

// Portugais
TRANSLATIONS.pt = {
  ...TRANSLATIONS.en,
  save: 'Salvar', cancel: 'Cancelar', close: 'Fechar', copy: 'Copiar',
  reset: 'Redefinir', edit: 'Editar', delete: 'Excluir', add: 'Adicionar',
  options: 'Opcoes', connection: 'Conexao', serverConfig: 'Configuracao do servidor',
  serverUrl: 'URL do servidor Ollama', model: 'Modelo', testConnection: 'Testar',
  refreshModels: 'Atualizar', selectModel: 'Selecione um modelo',
  connectionSuccess: 'Conexao bem-sucedida!', connectionError: 'Nao foi possivel conectar',
  enableStreaming: 'Ativar streaming (resposta em tempo real)',
  auto: 'Automatico (baseado no texto)', responseLanguageHint: 'Esta opcao nao se aplica a traducoes especificas.',
  presets: 'Presets', presetsDesc: 'Ative conjuntos de acoes para o menu contextual.',
  integratedPresets: 'Presets integrados', myCustomPresets: 'Meus presets personalizados',
  createPreset: 'Criar preset', presetActions: 'Acoes do preset',
  clickPresetToSee: 'Clique em um preset para ver suas acoes.',
  noCustomPresets: 'Nenhum preset personalizado. Clique em "Criar preset" para comecar.',
  viewPrompt: 'Ver prompt', editPrompt: 'Editar prompt', actions: 'acoes', custom: 'Perso',
  presetActivated: 'Preset ativado!', presetDeactivated: 'Preset desativado',
  presetCreated: 'Preset criado!', presetModified: 'Preset modificado!', presetDeleted: 'Preset excluido',
  about: 'Sobre', aboutTitle: 'Sobre o IA Helper', version: 'Versao',
  description: 'Assistente IA inteligente para Chrome conectado ao Ollama.',
  aboutText: 'IA Helper permite usar modelos de IA locais para corrigir, traduzir, reformular e analisar texto.',
  documentation: 'Documentacao', reportBug: 'Reportar um bug', requestFeature: 'Solicitar recurso',
  resetOptions: 'Redefinir opcoes', customize: 'Personalizar', customizePreset: 'Personalizar preset',
  newPreset: 'Criar um preset', editPreset: 'Editar preset', presetName: 'Nome do preset',
  presetNameHint: 'Este nome aparecera no menu contextual', presetDescription: 'Descricao',
  addAction: '+ Adicionar acao', noActions: 'Nenhuma acao. Clique em "+ Adicionar acao".',
  actionName: 'Nome da acao', actionPrompt: 'Prompt do sistema...', createThePreset: 'Criar preset',
  enterPresetName: 'Insira um nome para o preset', addAtLeastOneAction: 'Adicione pelo menos uma acao',
  allActionsMustHaveNameAndPrompt: 'Todas as acoes devem ter nome e prompt',
  settingsSaved: 'Configuracoes salvas!', languageChanged: 'Idioma alterado!'
};

// Available languages
export const AVAILABLE_LANGUAGES = [
  { code: 'fr', name: 'Francais', flag: 'FR' },
  { code: 'en', name: 'English', flag: 'GB' },
  { code: 'es', name: 'Espanol', flag: 'ES' },
  { code: 'it', name: 'Italiano', flag: 'IT' },
  { code: 'pt', name: 'Portugues', flag: 'PT' }
];

// Get translation
export function t(key, lang = 'fr') {
  return TRANSLATIONS[lang]?.[key] || TRANSLATIONS['fr'][key] || key;
}

// Get current language from storage
export async function getCurrentLanguage() {
  return new Promise((resolve) => {
    chrome.storage.local.get(['config'], (result) => {
      resolve(result.config?.interfaceLanguage || 'fr');
    });
  });
}

